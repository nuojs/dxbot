import"./modulepreload-polyfill-3cfb730f.js";function fr(h,q,L,he){let X,Z=!1,$=!0,U=3,A=2,T="USD",G=[],D={},ee="",W=[],P={account:0,no:0,total_stake:0,total_payout:0,win:0,loss:0,total_profit_loss:0,balance:0},te={RISE:"CALL",FALL:"PUT",DIFFER:"DIGITDIFF",MATCH:"DIGITMATCH",EVEN:"DIGITEVEN",ODD:"DIGITODD",UNDER:"DIGITUNDER",OVER:"DIGITOVER",TOUCH:"ONETOUCH",NOTOUCH:"NOTOUCH"},B=I=>{D.send(JSON.stringify(I))};var re=(I,F)=>{ee=F,D=new WebSocket("wss://blue.binaryws.com/websockets/v3?app_id=36261&l=EN&brand=devbot"),D.onopen=()=>{B({authorize:he})},D.onclose=N=>{!Z&&N.code!=1005&&setTimeout(()=>{re(I,F)},2e3)},D.onmessage=N=>{let m=JSON.parse(N.data);if(m.error&&(window.top.postMessage({event_dx_bot:"error-script",message:m.error.message},"*"),I({msg_type:"error",error:{message:m.error.message}})),m.authorize&&(I({msg_type:"login",login:{id:m.authorize.loginid}}),P.account=m.authorize.loginid,T=m.authorize.currency,B({ticks_history:F,adjust_start_time:1,count:200,end:"latest",start:1,style:"ticks"}),B({balance:1,subscribe:1})),m.balance&&(P.balance=m.balance.balance,L({status:{...P}})),m.history&&(W=m.history.prices,U=m.pip_size,B({ticks:F})),m.tick&&(W.push(m.tick.quote),I({msg_type:"price",price:{price:Number(m.tick.quote).toFixed(U),market:m.tick.symbol,epoch:m.tick.epoch,prices:W}}),W.shift(),$||B({proposal_open_contract:1,contract_id:X})),m.buy){setTimeout(()=>q({count:1}),500),X=m.buy.contract_id,$=!1;let x={time_stamp:new Date(m.buy.purchase_time*1e3).toUTCString().split(" ")[4],refferance:m.buy.transaction_id,trade_type:m.buy.shortcode.split("_")[0],entry_spot:"-",exit_spot:"-",buy_price:m.buy.buy_price.toFixed(A),profit_loss:"-",status:"Pending"};h({newRow:x}),B({proposal_open_contract:1,contract_id:X})}if(m.proposal_open_contract){let x=m.proposal_open_contract;if(I({msg_type:"portfolio",portfolio:{status:x.status,profit:x.profit,sold:x.validation_error,payout:x.payout,desc:x.longcode,amount:x.buy_price,reff_id:x.transaction_ids.buy}}),x.validation_error=="This contract has been sold."){G.push(x.transaction_ids.buy);let se=G.length-1;if(G[se]==G[se-1])return;$=!0;let pe={time_stamp:new Date(x.purchase_time*1e3).toUTCString().split(" ")[4],refferance:x.transaction_ids.buy,trade_type:x.contract_type,entry_spot:x.entry_tick.toFixed(U),exit_spot:x.exit_tick.toFixed(U),buy_price:x.buy_price.toFixed(A),profit_loss:x.profit.toFixed(A),status:"Settled"};h({newRow:pe}),x.status=="won"?(P.win+=1,P.total_payout+=x.payout,P.total_payout=Number(P.total_payout.toFixed(2))):P.loss+=1,P.no+=1,P.total_stake+=x.buy_price,P.total_stake=Number(P.total_stake.toFixed(2)),P.total_profit_loss+=x.profit,P.total_profit_loss=Number(P.total_profit_loss.toFixed(2)),L({status:{...P}})}}}},ce=I=>{q(0);let F=["LTC","BTC"].includes(T)?8:2;I.amount=I.amount.toFixed(F),q({count:0,buy_price:I.amount});let K={amount:I.amount,contract_type:te[I.contract],currency:T,basis:"stake",duration:I.duration,duration_unit:I.duration_unit||"t",barrier:I.prediction||I.barrier,symbol:ee};K.barrier||delete K.barrier;let N={parameters:K,buy:1,price:I.amount};B(N)},ve=()=>{Z=!0,D.close()};this.Run=re,this.Trade=ce,this.Stop=ve}function Ie(h){return function(q){window.top.postMessage({event_dx_bot:h,...q},"*")}}let Y={};function wr(h){let q=h.data;switch(q.event_dx_bot){case"bot-start":try{Y=new fr(Ie("add-row"),Ie("buy-step"),Ie("status"),q.tokenId),new Function("Run,Trade,Stop,Notify",`eval(\`${atob(q.code)}\`)`)(Y.Run,Y.Trade,Y.Stop,Ie("notify"))}catch(L){window.top.postMessage({event_dx_bot:"error-script",message:L.message},"*")}break;case"bot-stop":try{Y.Stop();try{Y={}}catch{}}catch{}break}}window.addEventListener("message",wr);(function(h){function q(s){return It[s]}function L(s){let e=q("precision");return e?parseFloat(s.toPrecision(e)):s}function he(s){c.reverseInputs(s);var e=new y(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function X(s){c.reverseInputs(s);var e=new z(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function Z(s){c.reverseInputs(s);var e=new ke(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function $(s){c.reverseInputs(s);var e=new ie(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function U(s){c.reverseInputs(s);var e=new qe(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function A(s){c.reverseInputs(s);var e=new ge(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function T(s){c.reverseInputs(s);var e=new fe(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function G(s){c.reverseInputs(s);var e=new we(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function D(s){c.reverseInputs(s);var e=new me(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function ee(s){c.reverseInputs(s);var e=new Se(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function W(s){c.reverseInputs(s);var e=new le(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function P(s){c.reverseInputs(s);var e=new He(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function te(s){c.reverseInputs(s);var e=new ae(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function B(s){c.reverseInputs(s);var e=new R(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function re(s){c.reverseInputs(s);var e=new Be(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function ce(s){c.reverseInputs(s);var e=new ze(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function ve(s){c.reverseInputs(s);var e=new xe(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function I(s){c.reverseInputs(s);var e=new Le(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function F(s){c.reverseInputs(s);var e=new De(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function K(s){c.reverseInputs(s);var e=new Fe(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function N(s){c.reverseInputs(s);var e=new Me(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function m(s){c.reverseInputs(s);var e=new Ne(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function x(s){c.reverseInputs(s);var e=new Re(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function se(s){c.reverseInputs(s);var e=new Oe(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function pe(s){c.reverseInputs(s);var e=new je(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function sr(s,e,t,i){return s<=t&&e>=t||t<=s&&i>=s}function lt(s){c.reverseInputs(s);var e=new Ue(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function at(s){c.reverseInputs(s);var e=new We(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function ut(s){c.reverseInputs(s);var e=new Ke(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function ht(s){c.reverseInputs(s);var e=new Je(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function ct(s){c.reverseInputs(s);var e=new Xe(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function vt(s){c.reverseInputs(s);var e=new $e(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function pt(s){c.reverseInputs(s);var e=new yt(s).result;return s.reversedInput&&(e.open.reverse(),e.high.reverse(),e.low.reverse(),e.close.reverse(),e.volume.reverse(),e.timestamp.reverse()),c.reverseInputs(s),e}function dt(s){c.reverseInputs(s);var e=new Qe(s).result;return s.reversedInput&&(e.open.reverse(),e.high.reverse(),e.low.reverse(),e.close.reverse(),e.volume.reverse(),e.timestamp.reverse()),c.reverseInputs(s),e}function ye(s){return new Tt().hasPattern(s)}function be(s){return new Ht().hasPattern(s)}function Pe(s){return new Bt().hasPattern(s)}function Ce(s){return new zt().hasPattern(s)}function gt(s){c.reverseInputs(s);var e=new tt(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function ft(s){c.reverseInputs(s);var e=new rt(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function wt(s){c.reverseInputs(s);var e=new st(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function mt(s){c.reverseInputs(s);var e=new nt(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function xt(s){c.reverseInputs(s);var e=new it(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e}function nr(){return["sma","ema","wma","wema","macd","rsi","bollingerbands","adx","atr","truerange","roc","kst","psar","stochastic","williamsr","adl","obv","trix","cci","awesomeoscillator","forceindex","vwap","volumeprofile","renko","heikinashi","stochasticrsi","mfi","averagegain","averageloss","highest","lowest","sum","FixedSizeLinkedList","sd","bullish","bearish","abandonedbaby","doji","bearishengulfingpattern","bullishengulfingpattern","darkcloudcover","downsidetasukigap","dragonflydoji","gravestonedoji","bullishharami","bearishharami","bullishharamicross","bearishharamicross","eveningdojistar","eveningstar","morningdojistar","morningstar","bullishmarubozu","bearishmarubozu","piercingline","bullishspinningtop","bearishspinningtop","threeblackcrows","threewhitesoldiers","bullishhammerstick","bearishhammerstick","bullishinvertedhammerstick","bearishinvertedhammerstick","hammerpattern","hammerpatternunconfirmed","hangingman","hangingmanunconfirmed","shootingstar","shootingstarunconfirmed","tweezertop","tweezerbottom","ichimokucloud","keltnerchannels","chandelierexit","crossup","crossdown","crossover"]}var ne=Math.min,Q=Math.max,V=Math.abs;class _t{constructor(e,t,i){this.next=i,i&&(i.prev=this),this.prev=t,t&&(t.next=this),this.data=e}}class Ve{constructor(){this._length=0}get head(){return this._head&&this._head.data}get tail(){return this._tail&&this._tail.data}get current(){return this._current&&this._current.data}get length(){return this._length}push(e){this._tail=new _t(e,this._tail),this._length===0&&(this._head=this._tail,this._current=this._head,this._next=this._head),this._length++}pop(){var e=this._tail;if(this._length!==0)return this._length--,this._length===0?(this._head=this._tail=this._current=this._next=void 0,e.data):(this._tail=e.prev,this._tail.next=void 0,this._current===e&&(this._current=this._tail,this._next=void 0),e.data)}shift(){var e=this._head;if(this._length!==0)return this._length--,this._length===0?(this._head=this._tail=this._current=this._next=void 0,e.data):(this._head=this._head.next,this._current===e&&(this._current=this._head,this._next=this._current.next),e.data)}unshift(e){this._head=new _t(e,void 0,this._head),this._length===0&&(this._tail=this._head,this._next=this._head),this._length++}unshiftCurrent(){var e=this._current;return e===this._head||2>this._length?e&&e.data:(e===this._tail?(this._tail=e.prev,this._tail.next=void 0,this._current=this._tail):(e.next.prev=e.prev,e.prev.next=e.next,this._current=e.prev),this._next=this._current.next,e.next=this._head,e.prev=void 0,this._head.prev=e,this._head=e,e.data)}removeCurrent(){var e=this._current;if(this._length!==0)return this._length--,this._length===0?(this._head=this._tail=this._current=this._next=void 0,e.data):(e===this._tail?(this._tail=e.prev,this._tail.next=void 0,this._current=this._tail):e===this._head?(this._head=e.next,this._head.prev=void 0,this._current=this._head):(e.next.prev=e.prev,e.prev.next=e.next,this._current=e.prev),this._next=this._current.next,e.data)}resetCursor(){return this._current=this._next=this._head,this}next(){var e=this._next;if(e!==void 0)return this._next=e.next,this._current=e,e.data}}class E extends Ve{constructor(e,t,i,o){if(super(),this.size=e,this.maintainHigh=t,this.maintainLow=i,this.maintainSum=o,this.totalPushed=0,this.periodHigh=0,this.periodLow=1/0,this.periodSum=0,!e||typeof e!="number")throw"Size required and should be a number.";this._push=this.push,this.push=function(n){this.add(n),this.totalPushed++}}add(e){this.length===this.size?(this.lastShift=this.shift(),this._push(e),this.maintainHigh&&this.lastShift==this.periodHigh&&this.calculatePeriodHigh(),this.maintainLow&&this.lastShift==this.periodLow&&this.calculatePeriodLow(),this.maintainSum&&(this.periodSum-=this.lastShift)):this._push(e),this.maintainHigh&&this.periodHigh<=e&&(this.periodHigh=e),this.maintainLow&&this.periodLow>=e&&(this.periodLow=e),this.maintainSum&&(this.periodSum+=e)}*iterator(){for(this.resetCursor();this.next();)yield this.current}calculatePeriodHigh(){for(this.resetCursor(),this.next()&&(this.periodHigh=this.current);this.next();)this.periodHigh<=this.current&&(this.periodHigh=this.current)}calculatePeriodLow(){for(this.resetCursor(),this.next()&&(this.periodLow=this.current);this.next();)this.periodLow>=this.current&&(this.periodLow=this.current)}}class Ee{constructor(){this.open=[],this.high=[],this.low=[],this.close=[],this.volume=[],this.timestamp=[]}}let It={};class de{}class c{constructor(e){this.format=e.format||L}static reverseInputs(e){e.reversedInput&&(e.values&&e.values.reverse(),e.open&&e.open.reverse(),e.high&&e.high.reverse(),e.low&&e.low.reverse(),e.close&&e.close.reverse(),e.volume&&e.volume.reverse(),e.timestamp&&e.timestamp.reverse())}getResult(){return this.result}}class y extends c{constructor(e){super(e),this.period=e.period,this.price=e.values,this.generator=function*(t){var i,o=new Ve,n=0,r=1,a=yield;for(o.push(0);;)r<t?(r++,o.push(a),n+=a):(i=(n=n-o.shift()+a)/t,o.push(a)),a=yield i}(this.period),this.generator.next(),this.result=[],this.price.forEach(t=>{var i=this.generator.next(t);i.value!==void 0&&this.result.push(this.format(i.value))})}nextValue(e){var t=this.generator.next(e).value;if(t!=null)return this.format(t)}}y.calculate=he;class z extends c{constructor(e){super(e);var t,i=e.period,o=e.values;this.result=[],t=new y({period:i,values:[]}),this.generator=function*(){for(var n,r=yield;;)n!=null&&r!==void 0?(n=2/(i+1)*(r-n)+n,r=yield n):(r=yield,(n=t.nextValue(r))&&(r=yield n))}(),this.generator.next(),this.generator.next(),o.forEach(n=>{var r=this.generator.next(n);r.value!=null&&this.result.push(this.format(r.value))})}nextValue(e){var t=this.generator.next(e).value;if(t!=null)return this.format(t)}}z.calculate=X;class ke extends c{constructor(e){super(e);var t=e.period,i=e.values;this.result=[],this.generator=function*(){for(let n=new Ve;;)if(n.length<t)n.push(yield);else{n.resetCursor();let r=0;for(let a=1;a<=t;a++)r+=n.next()*a/(t*(t+1)/2);var o=yield r;n.shift(),n.push(o)}}(),this.generator.next(),i.forEach(o=>{var n=this.generator.next(o);n.value!=null&&this.result.push(this.format(n.value))})}nextValue(e){var t=this.generator.next(e).value;if(t!=null)return this.format(t)}}ke.calculate=Z;class ie extends c{constructor(e){super(e);var t,i=e.period,o=e.values;this.result=[],t=new y({period:i,values:[]}),this.generator=function*(){for(var n,r=yield;;)n!=null&&r!==void 0?(n=1/i*(r-n)+n,r=yield n):(r=yield,(n=t.nextValue(r))!==void 0&&(r=yield n))}(),this.generator.next(),this.generator.next(),o.forEach(n=>{var r=this.generator.next(n);r.value!=null&&this.result.push(this.format(r.value))})}nextValue(e){var t=this.generator.next(e).value;if(t!=null)return this.format(t)}}ie.calculate=$;class qe extends c{constructor(e){super(e);var t=e.SimpleMAOscillator?y:z,i=e.SimpleMASignal?y:z,o=new t({period:e.fastPeriod,values:[],format:l=>l}),n=new t({period:e.slowPeriod,values:[],format:l=>l}),r=new i({period:e.signalPeriod,values:[],format:l=>l}),a=this.format;this.result=[],this.generator=function*(){for(var l,u,v,p,d,g,f=0;;)f<e.slowPeriod?(l=yield,d=o.nextValue(l),g=n.nextValue(l),f++):(d&&g&&(u=d-g,v=r.nextValue(u)),p=u-v,l=yield{MACD:a(u),signal:v?a(v):void 0,histogram:isNaN(p)?void 0:a(p)},d=o.nextValue(l),g=n.nextValue(l))}(),this.generator.next(),e.values.forEach(l=>{var u=this.generator.next(l);u.value!=null&&this.result.push(u.value)})}nextValue(e){return this.generator.next(e).value}}qe.calculate=U;class ge extends c{constructor(e){super(e);let t=e.values,i=e.period,o=this.format;this.generator=function*(n){var r,a,l=yield,u=1,v=0,p=l;for(l=yield;;)0<(a=0<(a=l-p)?a:0)&&(v+=a),u<n?u++:r=r==null?v/n:(r*(n-1)+a)/n,p=l,r=r===void 0?void 0:o(r),l=yield r}(i),this.generator.next(),this.result=[],t.forEach(n=>{var r=this.generator.next(n);r.value!==void 0&&this.result.push(r.value)})}nextValue(e){return this.generator.next(e).value}}ge.calculate=A;class fe extends c{constructor(e){super(e);let t=e.values,i=e.period,o=this.format;this.generator=function*(n){var r,a,l=yield,u=1,v=0,p=l;for(l=yield;;)0<(a=0<(a=p-l)?a:0)&&(v+=a),u<n?u++:r=r==null?v/n:(r*(n-1)+a)/n,p=l,r=r===void 0?void 0:o(r),l=yield r}(i),this.generator.next(),this.result=[],t.forEach(n=>{var r=this.generator.next(n);r.value!==void 0&&this.result.push(r.value)})}nextValue(e){return this.generator.next(e).value}}fe.calculate=T;class we extends c{constructor(e){super(e);var t=e.period,i=e.values,o=new ge({period:t,values:[]}),n=new fe({period:t,values:[]});this.generator=function*(){for(var r,a,l,u,v=yield;;)r=o.nextValue(v),a=n.nextValue(v),r!==void 0&&a!==void 0&&(a===0?u=100:r===0?u=0:(l=r/a,l=isNaN(l)?0:l,u=parseFloat((100-100/(1+l)).toFixed(2)))),v=yield u}(),this.generator.next(),this.result=[],i.forEach(r=>{var a=this.generator.next(r);a.value!==void 0&&this.result.push(a.value)})}nextValue(e){return this.generator.next(e).value}}we.calculate=G;class me extends c{constructor(e){super(e);var t=e.period,i=e.values,o=new y({period:t,values:[],format:n=>n});this.result=[],this.generator=function*(){var n,r,a,l=new E(t);for(n=yield;;){if(l.push(n),r=o.nextValue(n)){let u=0;for(let v of l.iterator())u+=Math.pow(v-r,2);a=Math.sqrt(u/t)}n=yield a}}(),this.generator.next(),i.forEach(n=>{var r=this.generator.next(n);r.value!=null&&this.result.push(this.format(r.value))})}nextValue(e){var t=this.generator.next(e);if(t.value!=null)return this.format(t.value)}}me.calculate=D;class Se extends c{constructor(e){super(e);var t,i,o=e.period,n=e.values,r=e.stdDev,a=this.format;this.result=[],t=new y({period:o,values:[],format:l=>l}),i=new me({period:o,values:[],format:l=>l}),this.generator=function*(){var l,u,v,p;for(u=yield;;){if(v=t.nextValue(u),p=i.nextValue(u),v){let d=a(v),g=a(v+p*r),f=a(v-p*r);l={middle:d,upper:g,lower:f,pb:a((u-f)/(g-f))}}u=yield l}}(),this.generator.next(),n.forEach(l=>{var u=this.generator.next(l);u.value!=null&&this.result.push(u.value)})}nextValue(e){return this.generator.next(e).value}}Se.calculate=ee;class oe extends c{constructor(e){super(e),this.period=e.period,this.price=e.values,this.generator=function*(t){for(var i=0,o=1,n=yield,r=0;;)o<t?(o++,i+=n,r=void 0):o==t?(o++,r=i+=n):r=r-r/t+n,n=yield r}(this.period),this.generator.next(),this.result=[],this.price.forEach(t=>{var i=this.generator.next(t);i.value!=null&&this.result.push(this.format(i.value))})}nextValue(e){var t=this.generator.next(e).value;if(t!=null)return this.format(t)}}oe.calculate=function(s){c.reverseInputs(s);var e=new oe(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e};class Ae extends c{constructor(e){super(e);var t=e.low,i=e.high,o=this.format;if(t.length!=i.length)throw"Inputs(low,high) not of equal size";this.result=[],this.generator=function*(){for(var n,r,a=yield;;){if(r){let l=a.high-r.high,u=r.low-a.low;n=o(u>l&&0<u?u:0)}r=a,a=yield n}}(),this.generator.next(),t.forEach((n,r)=>{var a=this.generator.next({high:i[r],low:t[r]});a.value!==void 0&&this.result.push(a.value)})}static calculate(e){c.reverseInputs(e);var t=new Ae(e).result;return e.reversedInput&&t.reverse(),c.reverseInputs(e),t}nextValue(e){return this.generator.next(e).value}}class Te extends c{constructor(e){super(e);var t=e.low,i=e.high,o=this.format;if(t.length!=i.length)throw"Inputs(low,high) not of equal size";this.result=[],this.generator=function*(){for(var n,r,a=yield;;){if(r){let l=a.high-r.high,u=r.low-a.low;n=o(l>u&&0<l?l:0)}r=a,a=yield n}}(),this.generator.next(),t.forEach((n,r)=>{var a=this.generator.next({high:i[r],low:t[r]});a.value!==void 0&&this.result.push(a.value)})}static calculate(e){c.reverseInputs(e);var t=new Te(e).result;return e.reversedInput&&t.reverse(),c.reverseInputs(e),t}nextValue(e){return this.generator.next(e).value}}class le extends c{constructor(e){super(e);var t=e.low,i=e.high,o=e.close,n=this.format;if(t.length!=i.length)throw"Inputs(low,high) not of equal size";this.result=[],this.generator=function*(){for(var r,a,l=yield;;)r==null&&(r=l.close,l=yield a),a=Q(l.high-l.low,isNaN(V(l.high-r))?0:V(l.high-r),isNaN(V(l.low-r))?0:V(l.low-r)),r=l.close,a!=null&&(a=n(a)),l=yield a}(),this.generator.next(),t.forEach((r,a)=>{var l=this.generator.next({high:i[a],low:t[a],close:o[a]});l.value!=null&&this.result.push(l.value)})}nextValue(e){return this.generator.next(e).value}}le.calculate=W;class He extends c{constructor(e){super(e);var t=e.low,i=e.high,o=e.close,n=e.period,r=this.format,a=new Te({high:[],low:[]}),l=new Ae({high:[],low:[]}),u=new oe({period:n,values:[],format:f=>f}),v=new oe({period:n,values:[],format:f=>f}),p=new oe({period:n,values:[],format:f=>f}),d=new ie({period:n,values:[],format:f=>f}),g=new le({low:[],high:[],close:[]});if(t.length!==i.length||i.length!==o.length)throw"Inputs(low,high, close) not of equal size";this.result=[],this.generator=function*(){var f,_,C,k,H=yield;for(0;;){let O=g.nextValue(H),J=a.nextValue(H),M=l.nextValue(H);if(O===void 0){H=yield;continue}let S=p.nextValue(O),b=u.nextValue(J),j=v.nextValue(M);S!=null&&b!=null&&j!=null&&(C=V((f=100*b/S)-(_=100*j/S))/(f+_)*100,k=d.nextValue(C)),H=yield{adx:k,pdi:f,mdi:_}}}(),this.generator.next(),t.forEach((f,_)=>{var C=this.generator.next({high:i[_],low:t[_],close:o[_]});C.value!=null&&C.value.adx!=null&&this.result.push({adx:r(C.value.adx),pdi:r(C.value.pdi),mdi:r(C.value.mdi)})})}nextValue(e){let t=this.generator.next(e).value;if(t!=null&&t.adx!=null)return{adx:this.format(t.adx),pdi:this.format(t.pdi),mdi:this.format(t.mdi)}}}He.calculate=P;class ae extends c{constructor(e){super(e);var t=e.low,i=e.high,o=e.close,n=e.period,r=this.format;if(t.length!==i.length||i.length!==o.length)throw"Inputs(low,high, close) not of equal size";var a=new le({low:[],high:[],close:[]}),l=new ie({period:n,values:[],format:u=>u});this.result=[],this.generator=function*(){for(var u,v,p=yield;;)u=(v=a.nextValue({low:p.low,high:p.high,close:p.close}))===void 0?void 0:l.nextValue(v),p=yield u}(),this.generator.next(),t.forEach((u,v)=>{var p=this.generator.next({high:i[v],low:t[v],close:o[v]});p.value!==void 0&&this.result.push(r(p.value))})}nextValue(e){return this.generator.next(e).value}}ae.calculate=te;class R extends c{constructor(e){super(e);var t=e.period,i=e.values;this.result=[],this.generator=function*(){let o=1;for(var n,r=new E(t),a=yield;;)r.push(a),o<t?o++:n=(a-r.lastShift)/r.lastShift*100,a=yield n}(),this.generator.next(),i.forEach(o=>{var n=this.generator.next(o);n.value==null||isNaN(n.value)||this.result.push(this.format(n.value))})}nextValue(e){var t=this.generator.next(e);if(t.value!=null&&!isNaN(t.value))return this.format(t.value)}}R.calculate=B;class Be extends c{constructor(e){super(e);let t=e.values,i=e.ROCPer1,o=e.ROCPer2,n=e.ROCPer3,r=e.ROCPer4,a=e.SMAROCPer1,l=e.SMAROCPer2,u=e.SMAROCPer3,v=e.SMAROCPer4,p=e.signalPeriod,d=new R({period:i,values:[]}),g=new R({period:o,values:[]}),f=new R({period:n,values:[]}),_=new R({period:r,values:[]}),C=new y({period:a,values:[],format:b=>b}),k=new y({period:l,values:[],format:b=>b}),H=new y({period:u,values:[],format:b=>b}),O=new y({period:v,values:[],format:b=>b}),J=new y({period:p,values:[],format:b=>b});var M=this.format;this.result=[];let S=Q(i+a,o+l,n+u,r+v);this.generator=function*(){for(let b,j,Jt,Xt,$t,ot,Qt,Yt=1,ue=yield;;){let Zt=d.nextValue(ue),er=g.nextValue(ue),tr=f.nextValue(ue),rr=_.nextValue(ue);j=Zt===void 0?void 0:C.nextValue(Zt),Jt=er===void 0?void 0:k.nextValue(er),Xt=tr===void 0?void 0:H.nextValue(tr),$t=rr===void 0?void 0:O.nextValue(rr),Yt<S?Yt++:b=1*j+2*Jt+3*Xt+4*$t,ot=b===void 0?void 0:J.nextValue(b),Qt=b===void 0?void 0:{kst:M(b),signal:ot?M(ot):void 0},ue=yield Qt}}(),this.generator.next(),t.forEach(b=>{let j=this.generator.next(b);j.value!=null&&this.result.push(j.value)})}nextValue(e){let t=this.generator.next(e);if(t.value!=null)return t.value}}Be.calculate=re;class ze extends c{constructor(e){super(e);let t=e.high||[],i=e.low||[];this.result=[],this.generator=function*(o,n){for(let r,a,l,u,v=!0,p=o,d=yield;;)r?(l+=p*(a-l),v?(l=ne(l,u.low,d.low),r.high>a&&(a=r.high,p=ne(p+o,n))):(l=Q(l,u.high,d.high),r.low<a&&(a=r.low,p=ne(p+o,n))),(v&&r.low<l||!v&&r.high>l)&&(p=o,l=a,v=!v,a=v?r.high:r.low)):(l=d.low,a=d.high),u=d,r&&(d=r),r=yield l}(e.step,e.max),this.generator.next(),i.forEach((o,n)=>{var r=this.generator.next({high:t[n],low:i[n]});r.value!==void 0&&this.result.push(r.value)})}nextValue(e){let t=this.generator.next(e);if(t.value!==void 0)return t.value}}ze.calculate=ce;class xe extends c{constructor(e){super(e);let t=e.low,i=e.high,o=e.close,n=e.period,r=e.signalPeriod,a=this.format;if(t.length!==i.length||i.length!==o.length)throw"Inputs(low,high, close) not of equal size";this.result=[],this.generator=function*(){let l,u,v=1,p=new E(n,!0,!1),d=new E(n,!1,!0),g=new y({period:r,values:[],format:_=>_});for(var f=yield;;){if(p.push(f.high),d.push(f.low),v<n){v++,f=yield;continue}let _=d.periodLow;l=(f.close-_)/(p.periodHigh-_)*100,l=isNaN(l)?0:l,u=g.nextValue(l),f=yield{k:a(l),d:u===void 0?void 0:a(u)}}}(),this.generator.next(),t.forEach((l,u)=>{var v=this.generator.next({high:i[u],low:t[u],close:o[u]});v.value!==void 0&&this.result.push(v.value)})}nextValue(e){let t=this.generator.next(e);if(t.value!==void 0)return t.value}}xe.calculate=ve;class Le extends c{constructor(e){super(e);let t=e.low,i=e.high,o=e.close,n=e.period,r=this.format;if(t.length!==i.length||i.length!==o.length)throw"Inputs(low,high, close) not of equal size";this.result=[],this.generator=function*(){let a,l,u=1,v=new E(n,!0,!1),p=new E(n,!1,!0);var d=yield;for(let g;;)v.push(d.high),p.push(d.low),u<n?(u++,d=yield):(a=p.periodLow,l=v.periodHigh,g=r((l-d.close)/(l-a)*-100),d=yield g)}(),this.generator.next(),t.forEach((a,l)=>{var u=this.generator.next({high:i[l],low:t[l],close:o[l]});u.value!==void 0&&this.result.push(u.value)})}nextValue(e){var t=this.generator.next(e);if(t.value!=null)return this.format(t.value)}}Le.calculate=I;class De extends c{constructor(e){super(e);var t=e.high,i=e.low,o=e.close,n=e.volume;if(i.length!==t.length||t.length!==o.length||t.length!==n.length)throw"Inputs(low,high, close, volumes) not of equal size";this.result=[],this.generator=function*(){var r,a=0;for(r=yield;;){let l=(r.close-r.low-(r.high-r.close))/(r.high-r.low);l=isNaN(l)?1:l,a+=l*r.volume,r=yield Math.round(a)}}(),this.generator.next(),t.forEach((r,a)=>{var l={high:r,low:i[a],close:o[a],volume:n[a]},u=this.generator.next(l);u.value!=null&&this.result.push(u.value)})}nextValue(e){return this.generator.next(e).value}}De.calculate=F;class Fe extends c{constructor(e){super(e);var t=e.close,i=e.volume;this.result=[],this.generator=function*(){var o,n,r=0;for((o=yield).close&&typeof o.close=="number"&&(n=o.close,o=yield);;)n<o.close?r+=o.volume:o.close<n&&(r-=o.volume),n=o.close,o=yield r}(),this.generator.next(),t.forEach((o,n)=>{let r={close:t[n],volume:i[n]},a=this.generator.next(r);a.value!=null&&this.result.push(a.value)})}nextValue(e){return this.generator.next(e).value}}Fe.calculate=K;class Me extends c{constructor(e){super(e);let t=e.values,i=e.period,o=this.format,n=new z({period:i,values:[],format:u=>u}),r=new z({period:i,values:[],format:u=>u}),a=new z({period:i,values:[],format:u=>u}),l=new R({period:1,values:[],format:u=>u});this.result=[],this.generator=function*(){for(let u=yield;;){let v=n.nextValue(u),p=v?r.nextValue(v):void 0,d=p?a.nextValue(p):void 0,g=d?l.nextValue(d):void 0;u=yield g?o(g):void 0}}(),this.generator.next(),t.forEach(u=>{let v=this.generator.next(u);v.value!==void 0&&this.result.push(v.value)})}nextValue(e){let t=this.generator.next(e);if(t.value!==void 0)return t.value}}Me.calculate=N;class Ne extends c{constructor(e){super(e);var t=e.close,i=e.volume,o=e.period||1;if(i.length!==t.length)throw"Inputs(volume, close) not of equal size";let n=new z({values:[],period:o});this.result=[],this.generator=function*(){var r=yield,a=yield;for(let l;;)l=(a.close-r.close)*a.volume,r=a,a=yield n.nextValue(l)}(),this.generator.next(),i.forEach((r,a)=>{var l=this.generator.next({close:t[a],volume:i[a]});l.value!=null&&this.result.push(l.value)})}nextValue(e){let t=this.generator.next(e).value;if(t!=null)return t}}Ne.calculate=m;class Re extends c{constructor(e){super(e);var t=e.low,i=e.high,o=e.close,n=e.period,r=(this.format,new E(n)),a=new y({period:n,values:[],format:l=>l});if(t.length!==i.length||i.length!==o.length)throw"Inputs(low,high, close) not of equal size";this.result=[],this.generator=function*(){for(var l=yield;;){let u=(l.high+l.low+l.close)/3;r.push(u);let v,p=a.nextValue(u),d=null,g=0;if(p!=null){for(let f of r.iterator())g+=V(f-p);d=g/n,v=(u-p)/(.015*d)}l=yield v}}(),this.generator.next(),t.forEach((l,u)=>{var v=this.generator.next({high:i[u],low:t[u],close:o[u]});v.value!=null&&this.result.push(v.value)})}nextValue(e){let t=this.generator.next(e).value;if(t!=null)return t}}Re.calculate=x;class Oe extends c{constructor(e){super(e);var t=e.high,i=e.low,o=e.fastPeriod,n=e.slowPeriod,r=new y({values:[],period:n}),a=new y({values:[],period:o});this.result=[],this.generator=function*(){var l,u,v,p,d;for(u=yield;;)v=(u.high+u.low)/2,p=r.nextValue(v),d=a.nextValue(v),p!==void 0&&d!==void 0&&(l=d-p),u=yield l}(),this.generator.next(),t.forEach((l,u)=>{var v={high:l,low:i[u]},p=this.generator.next(v);p.value!=null&&this.result.push(this.format(p.value))})}nextValue(e){var t=this.generator.next(e);if(t.value!=null)return this.format(t.value)}}Oe.calculate=se;class je extends c{constructor(e){super(e);var t=e.low,i=e.high,o=e.close,n=e.volume;if(this.format,t.length!==i.length||i.length!==o.length)throw"Inputs(low,high, close) not of equal size";this.result=[],this.generator=function*(){var r=yield;for(let a=0,l=0;;){let u=(r.high+r.low+r.close)/3;a+=r.volume*u,l+=r.volume,r=yield a/l}}(),this.generator.next(),t.forEach((r,a)=>{var l=this.generator.next({high:i[a],low:t[a],close:o[a],volume:n[a]});l.value!=null&&this.result.push(l.value)})}nextValue(e){let t=this.generator.next(e).value;if(t!=null)return t}}je.calculate=pe;class Ue extends c{constructor(e){super(e);var t=e.high,i=e.low,o=e.close,n=e.open,r=e.volume,a=e.noOfBars;if(i.length!==t.length||t.length!==o.length||t.length!==r.length)throw"Inputs(low,high, close, volumes) not of equal size";this.result=[];var l=Q(...t,...i,...o,...n),u=ne(...t,...i,...o,...n),v=u;for(let p=0;p<a;p++){let d=v,g=d+(l-u)/a;v=g;let f=0,_=0,C=0;for(let k=0;k<t.length;k++){let H=i[k],O=t[k],J=n[k],M=o[k],S=r[k];sr(d,g,H,O)&&(C+=S,J>M?_+=S:f+=S)}this.result.push({rangeStart:d,rangeEnd:g,bullishVolume:f,bearishVolume:_,totalVolume:C})}}nextValue(){throw"Next value not supported for volume profile"}}Ue.calculate=lt;class Ge extends c{constructor(e){super(e),this.result=[],this.generator=function*(){for(let t=yield;;)t=yield(t.high+t.low+t.close)/3}(),this.generator.next(),e.low.forEach((t,i)=>{var o=this.generator.next({high:e.high[i],low:e.low[i],close:e.close[i]});this.result.push(o.value)})}nextValue(e){return this.generator.next(e).value}}Ge.calculate=function(s){c.reverseInputs(s);var e=new Ge(s).result;return s.reversedInput&&e.reverse(),c.reverseInputs(s),e};class We extends c{constructor(e){super(e);var t=e.high,i=e.low,o=e.close,n=e.volume,r=e.period,a=new Ge({low:[],high:[],close:[]}),l=new E(r,!1,!1,!0),u=new E(r,!1,!1,!0);if(i.length!==t.length||t.length!==o.length||t.length!==n.length)throw"Inputs(low,high, close, volumes) not of equal size";this.result=[],this.generator=function*(){var v,p,d,g,f=0;let _=null,C=null;for((p=yield).close,p=yield;;){var{high:k,low:H,close:O,volume:J}=p,M=0,S=0;_=a.nextValue({high:k,low:H,close:O}),f=_*J,_!=null&&C!=null&&(_>C?M=f:S=f,l.push(M),u.push(S),d=l.periodSum,g=u.periodSum,l.totalPushed>=r&&l.totalPushed>=r&&(v=100-100/(1+d/g))),C=_,p=yield v}}(),this.generator.next(),t.forEach((v,p)=>{var d={high:v,low:i[p],close:o[p],volume:n[p]},g=this.generator.next(d);g.value!=null&&this.result.push(parseFloat(g.value.toFixed(2)))})}nextValue(e){var t=this.generator.next(e);if(t.value!=null)return parseFloat(t.value.toFixed(2))}}We.calculate=at;class Ke extends c{constructor(e){super(e);let t=e.values,i=e.rsiPeriod,o=e.stochasticPeriod,n=e.kPeriod,r=e.dPeriod;this.format,this.result=[],this.generator=function*(){let a,l,u,v,p=new we({period:i,values:[]}),d=new xe({period:o,high:[],low:[],close:[],signalPeriod:n}),g=new y({period:r,values:[],format:C=>C});for(var f=yield;;){if(a=p.nextValue(f),a!==void 0){var _={high:a,low:a,close:a};l=d.nextValue(_),l!==void 0&&l.d!==void 0&&(u=g.nextValue(l.d),u!==void 0&&(v={stochRSI:l.k,k:l.d,d:u}))}f=yield v}}(),this.generator.next(),t.forEach(a=>{var l=this.generator.next(a);l.value!==void 0&&this.result.push(l.value)})}nextValue(e){let t=this.generator.next(e);if(t.value!==void 0)return t.value}}Ke.calculate=ut;class Je extends c{constructor(e){super(e);var t=e.values,i=e.period;this.result=[];var o=new E(i,!0,!1,!1);this.generator=function*(){var n,r;for(n=yield;;)o.push(n),o.totalPushed>=i&&(r=o.periodHigh),n=yield r}(),this.generator.next(),t.forEach(n=>{var r=this.generator.next(n);r.value!=null&&this.result.push(r.value)})}nextValue(e){var t=this.generator.next(e);if(t.value!=null)return t.value}}Je.calculate=ht;class Xe extends c{constructor(e){super(e);var t=e.values,i=e.period;this.result=[];var o=new E(i,!1,!0,!1);this.generator=function*(){var n,r;for(n=yield;;)o.push(n),o.totalPushed>=i&&(r=o.periodLow),n=yield r}(),this.generator.next(),t.forEach(n=>{var r=this.generator.next(n);r.value!=null&&this.result.push(r.value)})}nextValue(e){var t=this.generator.next(e);if(t.value!=null)return t.value}}Xe.calculate=ct;class $e extends c{constructor(e){super(e);var t=e.values,i=e.period;this.result=[];var o=new E(i,!1,!1,!0);this.generator=function*(){var n,r;for(n=yield;;)o.push(n),o.totalPushed>=i&&(r=o.periodSum),n=yield r}(),this.generator.next(),t.forEach(n=>{var r=this.generator.next(n);r.value!=null&&this.result.push(r.value)})}nextValue(e){var t=this.generator.next(e);if(t.value!=null)return t.value}}$e.calculate=vt;class yt extends c{constructor(e){super(e),this.format;let t=e.useATR,i=e.brickSize||0;if(t){let u=te(Object.assign({},e));i=u[u.length-1]}if(this.result=new Ee,i===0)return void console.error("Not enough data to calculate brickSize for renko when using ATR");let o=0,n=0,r=1/0,a=0,l=0;this.generator=function*(){for(let u=yield;;){if(o==0){o=u.close,n=u.high,r=u.low,a=u.close,l=u.volume,u.timestamp,u=yield;continue}let v=V(u.close-a),p=V(u.close-o);if(v>=i&&p>=i){let d=v>p?o:a,g={open:d,high:n>u.high?n:u.high,low:r<u.Low?r:u.low,close:d>u.close?d-i:d+i,volume:l+u.volume,timestamp:u.timestamp};o=g.open,n=g.close,r=g.close,a=g.close,l=0,u=yield g}else n=n>u.high?n:u.high,r=r<u.Low?r:u.low,l+=u.volume,u.timestamp,u=yield}}(),this.generator.next(),e.low.forEach((u,v)=>{var p=this.generator.next({open:e.open[v],high:e.high[v],low:e.low[v],close:e.close[v],volume:e.volume[v],timestamp:e.timestamp[v]});p.value&&(this.result.open.push(p.value.open),this.result.high.push(p.value.high),this.result.low.push(p.value.low),this.result.close.push(p.value.close),this.result.volume.push(p.value.volume),this.result.timestamp.push(p.value.timestamp))})}nextValue(){return console.error("Cannot calculate next value on Renko, Every value has to be recomputed for every change, use calcualte method"),null}}yt.calculate=pt;class Qe extends c{constructor(e){super(e),this.format,this.result=new Ee;let t=null,i=0,o=1/0,n=0;this.generator=function*(){for(let r=yield,a=null;;){if(t==null)t=(r.close+r.open)/2,i=r.high,o=r.low,n=(r.close+r.open+r.high+r.low)/4,r.volume,r.timestamp,a={open:t,high:i,low:o,close:n,volume:r.volume||0,timestamp:r.timestamp||0};else{let l=(r.close+r.open+r.high+r.low)/4,u=(t+n)/2,v=Q(u,l,r.high),p=ne(r.low,u,l);a={close:l,open:u,high:v,low:p,volume:r.volume||0,timestamp:r.timestamp||0},n=l,t=u,i=v,o=p}r=yield a}}(),this.generator.next(),e.low.forEach((r,a)=>{var l=this.generator.next({open:e.open[a],high:e.high[a],low:e.low[a],close:e.close[a],volume:e.volume?e.volume[a]:e.volume,timestamp:e.timestamp?e.timestamp[a]:e.timestamp});l.value&&(this.result.open.push(l.value.open),this.result.high.push(l.value.high),this.result.low.push(l.value.low),this.result.close.push(l.value.close),this.result.volume.push(l.value.volume),this.result.timestamp.push(l.value.timestamp))})}nextValue(e){return this.generator.next(e).value}}Qe.calculate=dt;class w{constructor(){}approximateEqual(e,t){return 1*parseFloat(V(e-t).toPrecision(4))<=1*parseFloat((.001*e).toPrecision(4))}logic(){throw"this has to be implemented"}getAllPatternIndex(e){if(e.close.length<this.requiredCount)return console.warn("Data count less than data required for the strategy ",this.name),[];e.reversedInput&&(e.open.reverse(),e.high.reverse(),e.low.reverse(),e.close.reverse());let t=this.logic;return this._generateDataForCandleStick(e).map((i,o)=>t.call(this,i)?o:void 0).filter(i=>i)}hasPattern(e){return e.close.length<this.requiredCount?(console.warn("Data count less than data required for the strategy ",this.name),!1):(e.reversedInput&&(e.open.reverse(),e.high.reverse(),e.low.reverse(),e.close.reverse()),this.logic.call(this,this._getLastDataForCandleStick(e)))}_getLastDataForCandleStick(e){let t=this.requiredCount;if(e.close.length===t)return e;{let i={open:[],high:[],low:[],close:[]},o=0,n=e.close.length-t;for(;o<t;)i.open.push(e.open[n+o]),i.high.push(e.high[n+o]),i.low.push(e.low[n+o]),i.close.push(e.close[n+o]),o++;return i}}_generateDataForCandleStick(e){let t=this.requiredCount;return e.close.map(function(o,n){let r=0,a={open:[],high:[],low:[],close:[]};for(;r<t;)a.open.push(e.open[n+r]),a.high.push(e.high[n+r]),a.low.push(e.low[n+r]),a.close.push(e.close[n+r]),r++;return a}).filter((o,n)=>n<=e.close.length-t)}}class bt extends w{constructor(){super(),this.name="MorningStar",this.requiredCount=3}logic(e){let t=e.open[0],i=e.close[0],o=(e.high[0],e.low[0]),n=(e.open[1],e.close[1]),r=e.high[1],a=e.low[1],l=e.open[2],u=e.close[2];return e.high[2],e.low[2],i<t&&o>a&&o>r&&r<o&&a<o&&l>r&&n<l&&l<u&&u>(t+i)/2}}class Pt extends w{constructor(){super(),this.name="BullishEngulfingPattern",this.requiredCount=2}logic(e){let t=e.open[0],i=e.close[0],o=(e.high[0],e.low[0],e.open[1]),n=e.close[1];return e.high[1],e.low[1],i<t&&t>o&&i>o&&t<n}}class Ct extends w{constructor(){super(),this.requiredCount=2,this.name="BullishHarami"}logic(e){let t=e.open[0],i=e.close[0],o=e.high[0],n=(e.low[0],e.open[1]),r=e.close[1],a=e.high[1],l=e.low[1];return t>n&&i<n&&i<r&&t>l&&o>a}}class Vt extends w{constructor(){super(),this.requiredCount=2,this.name="BullishHaramiCross"}logic(e){let t=e.open[0],i=e.close[0],o=e.high[0],n=(e.low[0],e.open[1]),r=e.close[1],a=e.high[1],l=e.low[1],u=this.approximateEqual(n,r);return t>n&&i<n&&i<r&&t>l&&o>a&&u}}class _e extends w{constructor(){super(),this.name="Doji",this.requiredCount=1}logic(e){let t=e.open[0],i=e.close[0],o=e.high[0],n=e.low[0],r=this.approximateEqual(t,i),a=r&&this.approximateEqual(t,o),l=r&&this.approximateEqual(i,n);return r&&a==l}}class Et extends w{constructor(){super(),this.name="MorningDojiStar",this.requiredCount=3}logic(e){let t=e.open[0],i=e.close[0],o=(e.high[0],e.low[0]),n=e.open[1],r=e.close[1],a=e.high[1],l=e.low[1],u=e.open[2],v=e.close[2],p=(e.high[2],e.low[2],new _e().hasPattern({open:[n],close:[r],high:[a],low:[l]}));return i<t&&p&&u<v&&a<o&&l<o&&u>a&&r<u&&v>(t+i)/2}}class kt extends w{constructor(){super(),this.requiredCount=3,this.name="DownsideTasukiGap"}logic(e){let t=e.open[0],i=e.close[0],o=(e.high[0],e.low[0]),n=e.open[1],r=e.close[1],a=e.high[1],l=(e.low[1],e.open[2]),u=e.close[2];return e.high[2],e.low[2],i<t&&r<n&&u>l&&a<o&&n>l&&r<l&&u>n&&u<i}}class qt extends w{constructor(){super(),this.name="BullishMarubozu",this.requiredCount=1}logic(e){let t=e.open[0],i=e.close[0],o=e.high[0],n=e.low[0];return this.approximateEqual(i,o)&&this.approximateEqual(n,t)&&t<i&&t<o}}class St extends w{constructor(){super(),this.requiredCount=2,this.name="PiercingLine"}logic(e){let t=e.open[0],i=e.close[0],o=(e.high[0],e.low[0]),n=e.open[1],r=e.close[1];return e.high[1],e.low[1]<o&&i<t&&o>n&&r>(t+i)/2&&r>n}}class At extends w{constructor(){super(),this.name="ThreeWhiteSoldiers",this.requiredCount=3}logic(e){let t=e.open[0],i=e.close[0],o=e.high[0],n=(e.low[0],e.open[1]),r=e.close[1],a=e.high[1],l=(e.low[1],e.open[2]),u=e.close[2],v=e.high[2];return e.low[2],a>o&&v>a&&t<i&&n<r&&l<u&&i>n&&n<o&&a>l&&l<r}}class Tt extends w{constructor(){super(),this.name="BullishHammerStick",this.requiredCount=1}logic(e){let t=e.open[0],i=e.close[0],o=e.high[0],n=e.low[0],r=i>t;return r=r&&this.approximateEqual(i,o),r=r&&i-t<=2*(t-n),r}}class Ht extends w{constructor(){super(),this.name="BullishInvertedHammerStick",this.requiredCount=1}logic(e){let t=e.open[0],i=e.close[0],o=e.high[0],n=e.low[0],r=i>t;return r=r&&this.approximateEqual(t,n),r=r&&i-t<=2*(o-i),r}}class Bt extends w{constructor(){super(),this.name="BearishHammerStick",this.requiredCount=1}logic(e){let t=e.open[0],i=e.close[0],o=e.high[0],n=e.low[0],r=t>i;return r=r&&this.approximateEqual(t,o),r=r&&t-i<=2*(i-n),r}}class zt extends w{constructor(){super(),this.name="BearishInvertedHammerStick",this.requiredCount=1}logic(e){let t=e.open[0],i=e.close[0],o=e.high[0],n=e.low[0],r=t>i;return r=r&&this.approximateEqual(i,n),r=r&&t-i<=2*(o-t),r}}class Ye extends w{constructor(){super(),this.name="HammerPattern",this.requiredCount=5}logic(e){let t=this.downwardTrend(e);return t=t&&this.includesHammer(e),t=t&&this.hasConfirmation(e),t}downwardTrend(e,t=!0){let i=t?3:4,o=A({values:e.close.slice(0,i),period:i-1});return T({values:e.close.slice(0,i),period:i-1})>o}includesHammer(e,t=!0){let i=t?3:4,o=t?4:void 0,n={open:e.open.slice(i,o),close:e.close.slice(i,o),low:e.low.slice(i,o),high:e.high.slice(i,o)},r=Pe(n);return r=r||Ce(n),r=r||ye(n),r=r||be(n),r}hasConfirmation(e){e.open[3];let t=e.close[3],i=(e.low[3],e.high[3],e.open[4]),o=e.close[4];return e.low[4],e.high[4],i<o&&t<o}}class Lt extends Ye{constructor(){super(),this.name="HammerPatternUnconfirmed"}logic(e){let t=this.downwardTrend(e,!1);return t=t&&this.includesHammer(e,!1),t}}class Dt extends w{constructor(){super(),this.name="TweezerBottom",this.requiredCount=5}logic(e){return this.downwardTrend(e)&&e.low[3]==e.low[4]}downwardTrend(e){let t=A({values:e.close.slice(0,3),period:2});return T({values:e.close.slice(0,3),period:2})>t}}let ir=[new Pt,new kt,new Ct,new Vt,new Et,new bt,new qt,new St,new At,new Tt,new Ht,new Ye,new Lt,new Dt];class or extends w{constructor(){super(),this.name="Bullish Candlesticks"}hasPattern(e){return ir.reduce(function(t,i){let o=i.hasPattern(e);return t||o},!1)}}class Ft extends w{constructor(){super(),this.name="BearishEngulfingPattern",this.requiredCount=2}logic(e){let t=e.open[0],i=e.close[0],o=(e.high[0],e.low[0],e.open[1]),n=e.close[1];return e.high[1],e.low[1],i>t&&t<o&&i<o&&t>n}}class Mt extends w{constructor(){super(),this.requiredCount=2,this.name="BearishHarami"}logic(e){let t=e.open[0],i=e.close[0],o=e.high[0],n=(e.low[0],e.open[1]),r=e.close[1],a=e.high[1],l=e.low[1];return t<n&&i>n&&i>r&&t<l&&o>a}}class Nt extends w{constructor(){super(),this.requiredCount=2,this.name="BearishHaramiCross"}logic(e){let t=e.open[0],i=e.close[0],o=e.high[0],n=(e.low[0],e.open[1]),r=e.close[1],a=e.high[1],l=e.low[1],u=this.approximateEqual(n,r);return t<n&&i>n&&i>r&&t<l&&o>a&&u}}class Rt extends w{constructor(){super(),this.name="EveningDojiStar",this.requiredCount=3}logic(e){let t=e.open[0],i=e.close[0],o=e.high[0],n=(e.low[0],e.open[1]),r=e.close[1],a=e.high[1],l=e.low[1],u=e.open[2],v=e.close[2],p=(e.high[2],e.low[2],new _e().hasPattern({open:[n],close:[r],high:[a],low:[l]}));return i>t&&p&&a>o&&l>o&&u<l&&r>u&&u>v&&v<(t+i)/2}}class Ot extends w{constructor(){super(),this.name="EveningStar",this.requiredCount=3}logic(e){let t=e.open[0],i=e.close[0],o=e.high[0],n=(e.low[0],e.open[1],e.close[1]),r=e.high[1],a=e.low[1],l=e.open[2],u=e.close[2];return e.high[2],e.low[2],i>t&&o<a&&o<r&&r>o&&a>o&&l<a&&n>l&&l>u&&u<(t+i)/2}}class jt extends w{constructor(){super(),this.name="BearishMarubozu",this.requiredCount=1}logic(e){let t=e.open[0],i=e.close[0],o=e.high[0],n=e.low[0];return this.approximateEqual(t,o)&&this.approximateEqual(n,i)&&t>i&&t>n}}class Ut extends w{constructor(){super(),this.name="ThreeBlackCrows",this.requiredCount=3}logic(e){let t=e.open[0],i=e.close[0],o=(e.high[0],e.low[0]),n=e.open[1],r=e.close[1],a=(e.high[1],e.low[1]),l=e.open[2],u=e.close[2],v=(e.high[2],e.low[2]);return o>a&&a>v&&t>i&&n>r&&l>u&&t>n&&n>i&&n>l&&l>r}}class Ze extends w{constructor(){super(),this.name="HangingMan",this.requiredCount=5}logic(e){let t=this.upwardTrend(e);return t=t&&this.includesHammer(e),t=t&&this.hasConfirmation(e),t}upwardTrend(e,t=!0){let i=t?3:4;return A({values:e.close.slice(0,i),period:i-1})>T({values:e.close.slice(0,i),period:i-1})}includesHammer(e,t=!0){let i=t?3:4,o=t?4:void 0,n={open:e.open.slice(i,o),close:e.close.slice(i,o),low:e.low.slice(i,o),high:e.high.slice(i,o)},r=Pe(n);return r=r||ye(n),r}hasConfirmation(e){e.open[3];let t=e.close[3],i=(e.low[3],e.high[3],e.open[4]),o=e.close[4];return e.low[4],e.high[4],i>o&&t>o}}class Gt extends Ze{constructor(){super(),this.name="HangingManUnconfirmed"}logic(e){let t=this.upwardTrend(e,!1);return t=t&&this.includesHammer(e,!1),t}}class et extends w{constructor(){super(),this.name="ShootingStar",this.requiredCount=5}logic(e){let t=this.upwardTrend(e);return t=t&&this.includesHammer(e),t=t&&this.hasConfirmation(e),t}upwardTrend(e,t=!0){let i=t?3:4;return A({values:e.close.slice(0,i),period:i-1})>T({values:e.close.slice(0,i),period:i-1})}includesHammer(e,t=!0){let i=t?3:4,o=t?4:void 0,n={open:e.open.slice(i,o),close:e.close.slice(i,o),low:e.low.slice(i,o),high:e.high.slice(i,o)},r=Ce(n);return r=r||be(n),r}hasConfirmation(e){e.open[3];let t=e.close[3],i=(e.low[3],e.high[3],e.open[4]),o=e.close[4];return e.low[4],e.high[4],i>o&&t>o}}class Wt extends et{constructor(){super(),this.name="ShootingStarUnconfirmed"}logic(e){let t=this.upwardTrend(e,!1);return t=t&&this.includesHammer(e,!1),t}}class Kt extends w{constructor(){super(),this.name="TweezerTop",this.requiredCount=5}logic(e){return this.upwardTrend(e)&&e.high[3]==e.high[4]}upwardTrend(e){return A({values:e.close.slice(0,3),period:2})>T({values:e.close.slice(0,3),period:2})}}let lr=[new Ft,new Mt,new Nt,new Rt,new Ot,new jt,new Ut,new Bt,new zt,new Ze,new Gt,new et,new Wt,new Kt];class ar extends w{constructor(){super(),this.name="Bearish Candlesticks"}hasPattern(e){return lr.reduce(function(t,i){return t||i.hasPattern(e)},!1)}}class ur extends w{constructor(){super(),this.name="AbandonedBaby",this.requiredCount=3}logic(e){let t=e.open[0],i=e.close[0],o=(e.high[0],e.low[0]),n=e.open[1],r=e.close[1],a=e.high[1],l=e.low[1],u=e.open[2],v=e.close[2],p=e.high[2],d=e.low[2],g=new _e().hasPattern({open:[n],close:[r],high:[a],low:[l]});return i<t&&g&&a<o&&d>a&&v>u&&p<t}}class hr extends w{constructor(){super(),this.name="DarkCloudCover",this.requiredCount=2}logic(e){let t=e.open[0],i=e.close[0],o=e.high[0],n=(e.low[0],e.open[1]),r=e.close[1];return e.high[1],e.low[1],i>t&&r<n&&n>o&&r<(i+t)/2&&r>t}}class cr extends w{constructor(){super(),this.requiredCount=1,this.name="DragonFlyDoji"}logic(e){let t=e.open[0],i=e.close[0],o=e.high[0],n=e.low[0],r=this.approximateEqual(t,i),a=r&&this.approximateEqual(t,o),l=r&&this.approximateEqual(i,n);return r&&a&&!l}}class vr extends w{constructor(){super(),this.requiredCount=1,this.name="GraveStoneDoji"}logic(e){let t=e.open[0],i=e.close[0],o=e.high[0],n=e.low[0],r=this.approximateEqual(t,i),a=r&&this.approximateEqual(t,o),l=r&&this.approximateEqual(i,n);return r&&l&&!a}}class pr extends w{constructor(){super(),this.name="BullishSpinningTop",this.requiredCount=1}logic(e){let t=e.open[0],i=e.close[0],o=e.high[0],n=e.low[0],r=V(i-t),a=V(o-i),l=V(t-n);return r<a&&r<l}}class dr extends w{constructor(){super(),this.name="BearishSpinningTop",this.requiredCount=1}logic(e){let t=e.open[0],i=e.close[0],o=e.high[0],n=e.low[0],r=V(i-t),a=V(o-t),l=V(o-n);return r<a&&r<l}}class tt extends c{constructor(e){super(e),this.result=[];var t=Object.assign({},{conversionPeriod:9,basePeriod:26,spanPeriod:52,displacement:26},e),i=new E(2*t.conversionPeriod,!0,!0,!1),o=new E(2*t.basePeriod,!0,!0,!1),n=new E(2*t.spanPeriod,!0,!0,!1);this.generator=function*(){let r,a,l=Q(t.conversionPeriod,t.basePeriod,t.spanPeriod,t.displacement),u=1;for(a=yield;;){if(i.push(a.high),i.push(a.low),o.push(a.high),o.push(a.low),n.push(a.high),n.push(a.low),u<l)u++;else{let v=(i.periodHigh+i.periodLow)/2,p=(o.periodHigh+o.periodLow)/2;r={conversion:v,base:p,spanA:(v+p)/2,spanB:(n.periodHigh+n.periodLow)/2}}a=yield r}}(),this.generator.next(),e.low.forEach((r,a)=>{var l=this.generator.next({high:e.high[a],low:e.low[a]});l.value&&this.result.push(l.value)})}nextValue(e){return this.generator.next(e).value}}tt.calculate=gt;class rt extends c{constructor(e){super(e);var t,i=new(e.useSMA?y:z)({period:e.maPeriod,values:[],format:n=>n}),o=new ae({period:e.atrPeriod,high:[],low:[],close:[],format:n=>n});this.result=[],this.generator=function*(){var n;for(t=yield;;){var{close:r}=t,a=i.nextValue(r),l=o.nextValue(t);a!=null&&l!=null&&(n={middle:a,upper:a+e.multiplier*l,lower:a-e.multiplier*l}),t=yield n}}(),this.generator.next(),e.high.forEach((n,r)=>{var a={high:n,low:e.low[r],close:e.close[r]},l=this.generator.next(a);l.value!=null&&this.result.push(l.value)})}nextValue(e){var t=this.generator.next(e);if(t.value!=null)return t.value}}rt.calculate=ft;class st extends c{constructor(e){super(e);var t=e.high,i=e.low,o=e.close;this.result=[];var n=new ae({period:e.period,high:[],low:[],close:[],format:a=>a}),r=new E(2*e.period,!0,!0,!1);this.generator=function*(){for(var a,l,u=yield;;){var{high:v,low:p}=u;r.push(v),r.push(p),l=n.nextValue(u),r.totalPushed>=2*e.period&&l!=null&&(a={exitLong:r.periodHigh-l*e.multiplier,exitShort:r.periodLow+l*e.multiplier}),u=yield a}}(),this.generator.next(),t.forEach((a,l)=>{var u={high:a,low:i[l],close:o[l]},v=this.generator.next(u);v.value!=null&&this.result.push(v.value)})}nextValue(e){var t=this.generator.next(e);if(t.value!=null)return t.value}}st.calculate=wt;class nt extends c{constructor(e){super(e),this.lineA=e.lineA,this.lineB=e.lineB;var t=[],i=[];this.generator=function*(){for(var o=yield,n=!1;;){t.unshift(o.valueA),i.unshift(o.valueB),n=o.valueA>o.valueB;for(var r=1;n==1&&t[r]>=i[r];)t[r]>i[r]?n=!1:t[r]<i[r]?n=!0:t[r]===i[r]&&(r+=1);n==1&&(t=[o.valueA],i=[o.valueB]),o=yield n}}(),this.generator.next(),this.result=[],this.lineA.forEach((o,n)=>{var r=this.generator.next({valueA:this.lineA[n],valueB:this.lineB[n]});r.value!==void 0&&this.result.push(r.value)})}static reverseInputs(e){e.reversedInput&&(e.lineA&&e.lineA.reverse(),e.lineB&&e.lineB.reverse())}nextValue(e,t){return this.generator.next({valueA:e,valueB:t}).value}}nt.calculate=mt;class it extends c{constructor(e){super(e),this.lineA=e.lineA,this.lineB=e.lineB;var t=[],i=[];this.generator=function*(){for(var o=yield,n=!1;;){t.unshift(o.valueA),i.unshift(o.valueB),n=o.valueA<o.valueB;for(var r=1;n==1&&t[r]<=i[r];)t[r]<i[r]?n=!1:t[r]>i[r]?n=!0:t[r]===i[r]&&(r+=1);n==1&&(t=[o.valueA],i=[o.valueB]),o=yield n}}(),this.generator.next(),this.result=[],this.lineA.forEach((o,n)=>{var r=this.generator.next({valueA:this.lineA[n],valueB:this.lineB[n]});r.value!==void 0&&this.result.push(r.value)})}static reverseInputs(e){e.reversedInput&&(e.lineA&&e.lineA.reverse(),e.lineB&&e.lineB.reverse())}nextValue(e,t){return this.generator.next({valueA:e,valueB:t}).value}}it.calculate=xt;let gr=["sma","ema","wma","wema","macd","rsi","bollingerbands","adx","atr","truerange","roc","kst","psar","stochastic","williamsr","adl","obv","trix","cci","awesomeoscillator","forceindex","vwap","volumeprofile","renko","heikinashi","stochasticrsi","mfi","averagegain","averageloss","highest","lowest","sum","FixedSizeLinkedList","sd","bullish","bearish","abandonedbaby","doji","bearishengulfingpattern","bullishengulfingpattern","darkcloudcover","downsidetasukigap","dragonflydoji","gravestonedoji","bullishharami","bearishharami","bullishharamicross","bearishharamicross","eveningdojistar","eveningstar","morningdojistar","morningstar","bullishmarubozu","bearishmarubozu","piercingline","bullishspinningtop","bearishspinningtop","threeblackcrows","threewhitesoldiers","bullishhammerstick","bearishhammerstick","bullishinvertedhammerstick","bearishinvertedhammerstick","hammerpattern","hammerpatternunconfirmed","hangingman","hangingmanunconfirmed","shootingstar","shootingstarunconfirmed","tweezertop","tweezerbottom","ichimokucloud","keltnerchannels","chandelierexit","crossup","crossdown","crossover"];h.getAvailableIndicators=nr,h.AvailableIndicators=gr,h.FixedSizeLinkedList=E,h.CandleData=class{},h.CandleList=Ee,h.sma=he,h.SMA=y,h.ema=X,h.EMA=z,h.wma=Z,h.WMA=ke,h.wema=$,h.WEMA=ie,h.macd=U,h.MACD=qe,h.rsi=G,h.RSI=we,h.bollingerbands=ee,h.BollingerBands=Se,h.adx=P,h.ADX=He,h.atr=te,h.ATR=ae,h.truerange=W,h.TrueRange=le,h.roc=B,h.ROC=R,h.kst=re,h.KST=Be,h.psar=ce,h.PSAR=ze,h.stochastic=ve,h.Stochastic=xe,h.williamsr=I,h.WilliamsR=Le,h.adl=F,h.ADL=De,h.obv=K,h.OBV=Fe,h.trix=N,h.TRIX=Me,h.forceindex=m,h.ForceIndex=Ne,h.cci=x,h.CCI=Re,h.awesomeoscillator=se,h.AwesomeOscillator=Oe,h.vwap=pe,h.VWAP=je,h.volumeprofile=lt,h.VolumeProfile=Ue,h.mfi=at,h.MFI=We,h.stochasticrsi=ut,h.StochasticRSI=Ke,h.averagegain=A,h.AverageGain=ge,h.averageloss=T,h.AverageLoss=fe,h.sd=D,h.SD=me,h.highest=ht,h.Highest=Je,h.lowest=ct,h.Lowest=Xe,h.sum=vt,h.Sum=$e,h.renko=pt,h.HeikinAshi=Qe,h.heikinashi=dt,h.bullish=function(s){return new or().hasPattern(s)},h.bearish=function(s){return new ar().hasPattern(s)},h.abandonedbaby=function(s){return new ur().hasPattern(s)},h.doji=function(s){return new _e().hasPattern(s)},h.bearishengulfingpattern=function(s){return new Ft().hasPattern(s)},h.bullishengulfingpattern=function(s){return new Pt().hasPattern(s)},h.darkcloudcover=function(s){return new hr().hasPattern(s)},h.downsidetasukigap=function(s){return new kt().hasPattern(s)},h.dragonflydoji=function(s){return new cr().hasPattern(s)},h.gravestonedoji=function(s){return new vr().hasPattern(s)},h.bullishharami=function(s){return new Ct().hasPattern(s)},h.bearishharami=function(s){return new Mt().hasPattern(s)},h.bullishharamicross=function(s){return new Vt().hasPattern(s)},h.bearishharamicross=function(s){return new Nt().hasPattern(s)},h.eveningdojistar=function(s){return new Rt().hasPattern(s)},h.eveningstar=function(s){return new Ot().hasPattern(s)},h.morningdojistar=function(s){return new Et().hasPattern(s)},h.morningstar=function(s){return new bt().hasPattern(s)},h.bullishmarubozu=function(s){return new qt().hasPattern(s)},h.bearishmarubozu=function(s){return new jt().hasPattern(s)},h.piercingline=function(s){return new St().hasPattern(s)},h.bullishspinningtop=function(s){return new pr().hasPattern(s)},h.bearishspinningtop=function(s){return new dr().hasPattern(s)},h.threeblackcrows=function(s){return new Ut().hasPattern(s)},h.threewhitesoldiers=function(s){return new At().hasPattern(s)},h.bullishhammerstick=ye,h.bearishhammerstick=Pe,h.bullishinvertedhammerstick=be,h.bearishinvertedhammerstick=Ce,h.hammerpattern=function(s){return new Ye().hasPattern(s)},h.hammerpatternunconfirmed=function(s){return new Lt().hasPattern(s)},h.hangingman=function(s){return new Ze().hasPattern(s)},h.hangingmanunconfirmed=function(s){return new Gt().hasPattern(s)},h.shootingstar=function(s){return new et().hasPattern(s)},h.shootingstarunconfirmed=function(s){return new Wt().hasPattern(s)},h.tweezertop=function(s){return new Kt().hasPattern(s)},h.tweezerbottom=function(s){return new Dt().hasPattern(s)},h.fibonacciretracement=function(s,e){let t,i=[0,23.6,38.2,50,61.8,78.6,100,127.2,161.8,261.8,423.6];return t=s<e?i.map(function(o){let n=e-V(s-e)*o/100;return 0<n?n:0}):i.map(function(o){let n=e+V(s-e)*o/100;return 0<n?n:0}),t},h.ichimokucloud=gt,h.IchimokuCloud=tt,h.keltnerchannels=ft,h.KeltnerChannels=rt,h.KeltnerChannelsInput=class extends de{constructor(){super(...arguments),this.maPeriod=20,this.atrPeriod=10,this.useSMA=!1,this.multiplier=1}},h.KeltnerChannelsOutput=class extends de{},h.chandelierexit=wt,h.ChandelierExit=st,h.ChandelierExitInput=class extends de{constructor(){super(...arguments),this.period=22,this.multiplier=3}},h.ChandelierExitOutput=class extends de{},h.crossUp=mt,h.CrossUp=nt,h.crossDown=xt,h.CrossDown=it,h.setConfig=function(s,e){It[s]=e},h.getConfig=q})(window.indicator=window.indicator||{});document.getElementById("root-2").innerHTML="";
